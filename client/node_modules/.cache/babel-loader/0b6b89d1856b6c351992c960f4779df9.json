{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gaurasingh\\\\Desktop\\\\Project\\\\client\\\\src\\\\Components\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { CREATE_BLOG_MUTATION, UPDATE_BLOG_MUTATION } from \"../GraphQL/Mutations\";\nimport { useMutation } from \"@apollo/client\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Form() {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [createBlog, {\n    data: successResponse,\n    error\n  }] = useMutation(CREATE_BLOG_MUTATION);\n  const [updateBlog, {\n    data: updatesuccessResponse,\n    updateerror\n  }] = useMutation(UPDATE_BLOG_MUTATION);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const updateFlag = location.state.update;\n\n  const toCancel = () => {\n    navigate(\"/\", {\n      state: {\n        heading: \" \",\n        content: \" \"\n      }\n    });\n  };\n\n  const onSubmit = data => {\n    if (updateFlag) {\n      updateBloes(data);\n    } else {\n      addBlog(data);\n    }\n  };\n\n  const addBlog = data => {\n    createBlog({\n      variables: {\n        data: {\n          heading: data.heading,\n          date: new Date().toLocaleString(),\n          content: data.content\n        }\n      }\n    });\n  };\n\n  const updateBloes = data => {\n    updateBlog({\n      variables: {\n        data: {\n          id: location.state.id,\n          heading: data.heading,\n          date: new Date().toLocaleString(),\n          content: data.content\n        }\n      }\n    });\n  };\n\n  useEffect(() => {\n    var _successResponse$crea;\n\n    if (successResponse !== null && successResponse !== void 0 && (_successResponse$crea = successResponse.createBlog) !== null && _successResponse$crea !== void 0 && _successResponse$crea.id) {\n      navigate(\"/\", {\n        state: {\n          refetch: true\n        }\n      });\n      console.log(\"A new Blog is added successfully!!!\");\n    } else if (error) {\n      console.log(\"Error: \" + error);\n    }\n  }, [successResponse, error, navigate]);\n  useEffect(() => {\n    var _updatesuccessRespons;\n\n    if (updatesuccessResponse !== null && updatesuccessResponse !== void 0 && (_updatesuccessRespons = updatesuccessResponse.updateBlog) !== null && _updatesuccessRespons !== void 0 && _updatesuccessRespons.id) {\n      navigate(\"/\", {\n        state: {\n          refetch: true\n        }\n      });\n      console.log(\"A  Blog is updated successfully!!!\");\n    } else if (updateerror) {\n      console.log(\"Error: \" + updateerror);\n    }\n  }, [updatesuccessResponse, updateerror, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"Full-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \" CREATE YOUR BLOG HERE \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 72\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" main\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \" BLOG Heading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          size: \"50\",\n          type: \"text\",\n          placeholder: \"Heading\",\n          defaultValue: location.state.heading,\n          ...register(\"heading\", {\n            required: true\n          }),\n          name: \"heading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), errors.heading && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"This field is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"BLOG CONTENT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"textarea\",\n          rows: \"40\",\n          col: \"100\",\n          type: \"text\",\n          placeholder: \"Content\",\n          defaultValue: location.state.content,\n          ...register(\"content\", {\n            required: true\n          }),\n          name: \"content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), errors.content && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"This field is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"button1\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success button1\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"button2\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toCancel,\n        type: \"button\",\n        className: \"btn btn-danger me-md-2\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Form, \"oK7l2I+qxq2fMS3E8DxL95Z6vfA=\", false, function () {\n  return [useForm, useMutation, useMutation, useNavigate, useLocation];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useEffect","CREATE_BLOG_MUTATION","UPDATE_BLOG_MUTATION","useMutation","useNavigate","useLocation","useForm","Form","register","handleSubmit","formState","errors","createBlog","data","successResponse","error","updateBlog","updatesuccessResponse","updateerror","navigate","location","updateFlag","state","update","toCancel","heading","content","onSubmit","updateBloes","addBlog","variables","date","Date","toLocaleString","id","refetch","console","log","textAlign","required"],"sources":["C:/Users/gaurasingh/Desktop/Project/client/src/Components/Form.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  CREATE_BLOG_MUTATION,\n  UPDATE_BLOG_MUTATION,\n} from \"../GraphQL/Mutations\";\nimport { useMutation } from \"@apollo/client\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\n\nfunction Form() {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n\n  const [createBlog, { data: successResponse, error }] =\n    useMutation(CREATE_BLOG_MUTATION);\n  const [updateBlog, { data: updatesuccessResponse, updateerror }] =\n    useMutation(UPDATE_BLOG_MUTATION);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const updateFlag = location.state.update;\n\n  const toCancel = () => {\n    navigate(\"/\", { state: { heading: \" \", content: \" \" } });\n  };\n\n  const onSubmit = (data) => {\n    if (updateFlag) {\n      updateBloes(data);\n    } else {\n      addBlog(data);\n    }\n  };\n\n  const addBlog = (data) => {\n    createBlog({\n      variables: {\n        data: {\n          heading: data.heading,\n          date: new Date().toLocaleString(),\n          content: data.content,\n        },\n      },\n    });\n  };\n\n  const updateBloes = (data) => {\n    updateBlog({\n      variables: {\n        data: {\n          id: location.state.id,\n          heading: data.heading,\n          date: new Date().toLocaleString(),\n          content: data.content,\n        },\n      },\n    });\n  };\n\n  useEffect(() => {\n    if (successResponse?.createBlog?.id) {\n      navigate(\"/\", { state: { refetch: true } });\n      console.log(\"A new Blog is added successfully!!!\");\n    } else if (error) {\n      console.log(\"Error: \" + error);\n    }\n  }, [successResponse, error, navigate]);\n\n  useEffect(() => {\n    if (updatesuccessResponse?.updateBlog?.id) {\n      navigate(\"/\", { state: { refetch: true } });\n      console.log(\"A  Blog is updated successfully!!!\");\n    } else if (updateerror) {\n      console.log(\"Error: \" + updateerror);\n    }\n  }, [updatesuccessResponse, updateerror, navigate]);\n\n  return (\n    <div id=\"Full-form\">\n      <h1 style={{ textAlign: \"center\" }}> CREATE YOUR BLOG HERE </h1> <br />\n      <form onSubmit={handleSubmit(onSubmit)}>\n        \n        <div className=\" main\">\n          <h4> BLOG Heading</h4>\n          <br />\n          <input\n            size=\"50\"\n            type=\"text\"\n            placeholder=\"Heading\"\n            defaultValue={location.state.heading}\n            {...register(\"heading\", { required: true })}\n            name=\"heading\"\n          />\n          \n          {errors.heading && <span>This field is required</span>}\n          <br />\n\n          <h4>BLOG CONTENT</h4>\n          <br />\n          <textarea\n            id=\"textarea\"\n            rows=\"40\"\n            col=\"100\"\n            type=\"text\"\n            placeholder=\"Content\"\n            defaultValue={location.state.content}\n            {...register(\"content\", { required: true })}\n            name=\"content\"\n          />\n          <br />\n          {errors.content && <span>This field is required</span>}\n          <br />\n          <br />\n          <div id=\"button1\">\n          <button className=\"btn btn-success button1\" type=\"submit\">\n            Submit\n          </button>\n          </div>\n        </div>\n       \n      </form>\n      <div id=\"button2\">\n        <button\n          onClick={toCancel}\n          type=\"button\"\n          className=\"btn btn-danger me-md-2\"\n        >\n          Cancel\n        </button>\n      </div>\n      <br />\n    </div>\n  );\n}\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}